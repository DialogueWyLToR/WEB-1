<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="./src/css/components.css">
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        function Header() {
            return (
                <header>
                    <h1>React CDN projekt</h1>
                    <ul className="menu">
                        <li><a className="menu-btn" href="#home">F≈ëoldal</a></li>
                        <li><a className="menu-btn" href="#hangman">Akaszt√≥fa</a></li>
                        <li><a className="menu-btn" href="#millionaireGame">Legyen √ñn is milliomos</a></li>
                    </ul>
                </header>
            );
        }
        function Footer() {
            return (
                <footer>
                <p>&copy; 2025 React CDN projekt</p>
                </footer>
            );
        }
        function App() {
            const routes = {
                "": <Home />,
                "#hangman": <Hangman />,
                "#millionaireGame": <MillionaireGame/>
            };

            const [route, setRoute] = React.useState(window.location.hash);
            React.useEffect(() => {
                const onHashChange = () => setRoute(window.location.hash);
                window.addEventListener("hashchange", onHashChange);
                return () => window.removeEventListener("hashchange", onHashChange);
            }, []);
            return (
                <>
                    <Header />
                    {routes[route] || <Home />}
                    <Footer/>
                </>
            );
        }
        function Home(){
            return(
                <main>
                    <h1>Hell√≥ vil√°g!</h1>
                    <p>Ez egy JSX + Babel React app</p>  
                </main>
            )
        }
        function Hangman(){
            const WORDS = ["REACT", "JAVASCRIPT", "PROGRAMOZ√ÅS", "CDN", "AKASZT√ìFA"];
            const MAX_WRONG = 6;
            const [word] = React.useState(() => WORDS[Math.floor(Math.random() * WORDS.length)]);
            const [guessed, setGuessed] = React.useState([]);
            const [wrong, setWrong] = React.useState(0);

            const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");

            const handleGuess = (letter) => {
            if (guessed.includes(letter)) return;

            setGuessed([...guessed, letter]);

            if (!word.includes(letter)) {
                setWrong(wrong + 1);
            }
            };

            const getDisplayedWord = () =>
            word
                .split("")
                .map((l) => (guessed.includes(l) ? l : "_"))
                .join(" ");

            const isWinner = word.split("").every((l) => guessed.includes(l));
            const isLoser = wrong >= MAX_WRONG;

            const resetGame = () => {
                setGuessed([]);
                setWrong(0);
            };

            return (
            <div className="hangman-game">
                <h1>Akaszt√≥fa j√°t√©k</h1>
                <div className="hangman">Hib√°k: {wrong} / {MAX_WRONG}</div>
                <div className="word">{getDisplayedWord()}</div>

                {isWinner && <div className="result">Gratul√°lok! Nyert√©l üéâ</div>}
                {isLoser && <div className="result lost">Vesztett√©l üò¢ A sz√≥: {word}</div>}

                <div className="keyboard">
                {letters.map((letter) => (
                    <button
                    key={letter}
                    onClick={() => handleGuess(letter)}
                    disabled={guessed.includes(letter) || isWinner || isLoser}
                    >
                    {letter}
                    </button>
                ))}
                </div>

                {(isWinner || isLoser) && (
                <button onClick={resetGame} style={{ marginTop: "1rem" }}>
                    √öj j√°t√©k
                </button>
                )}
            </div>
            );
        }
        function MillionaireGame(){
            const questions = [
                {
                    question: "Mi Magyarorsz√°g f≈ëv√°rosa?",
                    options: ["P√©cs", "Budapest", "Debrecen", "Szombathely"],
                    correctAnswer: "Budapest"
                },
                {
                    question: "Mi a legnagyobb √≥ce√°n?",
                    options: ["Csendes-√≥ce√°n", "Atlanti-√≥ce√°n", "India-√≥ce√°n", "Jeges-√≥ce√°n"],
                    correctAnswer: "Csendes-√≥ce√°n"
                },
                {
                    question: "Ki √≠rta a 'Harry Potter' k√∂nyveket?",
                    options: ["J.R.R. Tolkien", "J.K. Rowling", "George R.R. Martin", "C.S. Lewis"],
                    correctAnswer: "J.K. Rowling"
                },
                {
                    question: "Melyik √©vben zajlott az els≈ë holdra sz√°ll√°s?",
                    options: ["1969", "1959", "1975", "1980"],
                    correctAnswer: "1969"
                },
                {
                    question: "Mi a pi √©rt√©ke?",
                    options: ["3.14", "3.12", "2.72", "2.50"],
                    correctAnswer: "3.14"
                }
            ];
            const [currentQuestionIndex, setCurrentQuestionIndex] = React.useState(0);
            const [score, setScore] = React.useState(0);
            const [showResult, setShowResult] = React.useState(false);

            const handleAnswer = (answer) => {
                if (answer === questions[currentQuestionIndex].correctAnswer) {
                    setScore(score + 1);
                }
                const nextQuestion = currentQuestionIndex + 1;
                if (nextQuestion < questions.length) {
                    setCurrentQuestionIndex(nextQuestion);
                } else {
                    setShowResult(true);
                }
            };

            const currentQuestion = questions[currentQuestionIndex];

            return (
                <div className="millionaire-game">
                    <h1>Legyen √ñn is Milliomos</h1>
                    {!showResult ? (
                        <div>
                            <h2>{currentQuestion.question}</h2>
                            <div>
                                {currentQuestion.options.map((option, index) => (
                                    <button key={index} onClick={() => handleAnswer(option)}>
                                        {option}
                                    </button>
                                ))}
                            </div>
                        </div>
                    ) : (
                        <div>
                            <h2>Kv√≠z v√©ge!</h2>
                            <p>El√©rt pontsz√°m: {score} / {questions.length}</p>
                        </div>
                    )}
                </div>
            );
        }
        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
    </script>
</body>
</html>